(function(){function b(a,b,c,d){var e,f,g=0,h=b.length,j=c.length;while(g<h){if(d>=j)return-1;e=b.charCodeAt(g++);if(e==37){f=i[b.charAt(g++)];if(!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function g(a){var b="th",c=a%100;if(c<11||c>13)switch(c%10){case 1:b="st";break;case 2:b="nd";break;case 3:b="rd";break;default:}return b}function j(a,b,c){return b.substring(c,c+=3).toLowerCase()in k?c:-1}function l(a,b,c){m.lastIndex=0;var d=m.exec(b.substring(c,c+10));return d?c+=d[0].length:-1}function o(a,b,c){var d=p[b.substring(c,c+=3).toLowerCase()];return d==null?-1:(a.setMonth(d),c)}function q(a,b,c){r.lastIndex=0;var d=r.exec(b.substring(c,c+12));return d?(a.setMonth(s[d[0].toLowerCase()]),c+=d[0].length):-1}function u(a,c,d){return b(a,h.c.toString(),c,d)}function v(a,c,d){return b(a,h.x.toString(),c,d)}function w(a,c,d){return b(a,h.X.toString(),c,d)}function x(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+4));return d?(a.setFullYear(d[0]),c+=d[0].length):-1}function y(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+2));return d?(a.setFullYear(z()+ +d[0]),c+=d[0].length):-1}function z(){return~~((new Date).getFullYear()/1e3)*1e3}function A(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+2));return d?(a.setMonth(d[0]-1),c+=d[0].length):-1}function B(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+2));return d?(a.setDate(+d[0]),c+=d[0].length):-1}function C(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+2));return d?(a.setHours(+d[0]),c+=d[0].length):-1}function D(a,b,c){return a.hour12=!0,C(a,b,c)}function E(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+2));return d?(a.setMinutes(+d[0]),c+=d[0].length):-1}function F(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+2));return d?(a.setSeconds(+d[0]),c+=d[0].length):-1}function G(a,b,c){H.lastIndex=0;var d=H.exec(b.substring(c,c+3));return d?(a.setMilliseconds(+d[0]),c+=d[0].length):-1}function I(a,b,c){var d=J[b.substring(c,c+=2).toLowerCase()];return d==null?-1:(a.hour12pm=d,c)}function K(b){return new a(b.getFullYear(),0,1)}function L(a,b){return~~((b-a)/864e5-(b.getTimezoneOffset()-a.getTimezoneOffset())/1440)}function M(a){return d(1+L(K(a),a))}function N(a){var b=K(a);return c(~~((L(b,a)+b.getDay())/7))}function O(a){var b=K(a);return c(~~((L(b,a)+(b.getDay()+6)%7)/7))}function P(a){var b=a.getTimezoneOffset(),d=b>0?"-":"+",e=~~(Math.abs(b)/60),f=Math.abs(b)%60;return d+c(e)+c(f)}function Q(){this._=new Date(Date.UTC.apply(this,arguments))}function S(a){return a.toISOString()}function T(a,b,c){return function(d,e,f){var g=a(d),h=[];g<d&&b(g);if(f>1)while(g<e){var i=new Date(+g);c(i)%f||h.push(i),b(g)}else while(g<e)h.push(new Date(+g)),b(g);return h}}function U(a){a.setTime(a.getTime()+6e4)}function V(a){a.setTime(a.getTime()+36e5)}function W(a,b,c){function d(b){return a(b)}return d.invert=function(b){return Y(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(Y)},d.ticks=function(c,e){var f=X(d.domain());if(typeof c!="function"){var g=f[1]-f[0],h=g/c,i=d3.bisect(ba,h);if(i==ba.length)return b.year(f,c);if(!i)return a.ticks(c).map(Y);Math.log(h/ba[i-1])<Math.log(ba[i]/h)&&--i,c=b[i],e=c[1],c=c[0]}return c(f[0],new Date(+f[1]+1),e)},d.tickFormat=function(){return c},d.copy=function(){return W(a.copy(),b,c)},d3.rebind(d,a,"range","rangeRound","interpolate","clamp")}function X(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function Y(a){return new Date(a)}function Z(a){return function(b){var c=a.length-1,d=a[c];while(!d[1](b))d=a[--c];return d[0](b)}}function $(a){var b=new Date(a,0,1);return b.setFullYear(a),b}function _(a){var b=a.getFullYear(),c=$(b),d=$(b+1);return b+(a-c)/(d-c)}function bi(a){var b=new Date(Date.UTC(a,0,1));return b.setUTCFullYear(a),b}function bj(a){var b=a.getUTCFullYear(),c=bi(b),d=bi(b+1);return b+(a-c)/(d-c)}d3.time={};var a=Date;d3.time.format=function(c){function e(a){var b=[],e=-1,f=0,g,i;while(++e<d)c.charCodeAt(e)==37&&(b.push(c.substring(f,e),(i=h[g=c.charAt(++e)])?i(a):g),f=e+1);return b.push(c.substring(f,e)),b.join("")}var d=c.length;return e.parse=function(d){var e=new a(1900,0,1),f=b(e,c,d,0);if(f!=d.length)return null;if(e.hour12){var g=e.getHours()%12;e.setHours(e.hour12pm?g+12:g)}return delete e.hour12,delete e.hour12pm,e},e.toString=function(){return c},e};var c=d3.format("02d"),d=d3.format("03d"),e=d3.format("04d"),f=d3.format("2d"),h={a:function(a){return n[a.getDay()].substring(0,3)},A:function(a){return n[a.getDay()]},b:function(a){return t[a.getMonth()].substring(0,3)},B:function(a){return t[a.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return c(a.getDate())},e:function(a){return f(a.getDate())},H:function(a){return c(a.getHours())},I:function(a){return c(a.getHours()%12||12)},j:M,L:function(a){return d(a.getMilliseconds())},m:function(a){return c(a.getMonth()+1)},M:function(a){return c(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},s:function(a){return g(a.getDate())},S:function(a){return c(a.getSeconds())},U:N,w:function(a){return a.getDay()},W:O,x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(a){return c(a.getFullYear()%100)},Y:function(a){return e(a.getFullYear()%1e4)},Z:P,"%":function(a){return"%"}},i={a:j,A:l,b:o,B:q,c:u,d:B,e:B,H:C,I:D,L:G,m:A,M:E,p:I,S:F,x:v,X:w,y:y,Y:x},k={sun:3,mon:3,tue:3,wed:3,thu:3,fri:3,sat:3},m=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/ig,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},r=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,s={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},t=["January","February","March","April","May","June","July","August","September","October","November","December"],H=/\s*\d+/,J={am:0,pm:1};d3.time.format.utc=function(b){function d(b){try{a=Q;var d=new a;return d._=b,c(d)}finally{a=Date}}var c=d3.time.format(b);return d.parse=function(b){try{a=Q;var d=c.parse(b);return d&&d._}finally{a=Date}},d.toString=c.toString,d},Q.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.getTime()},setDate:function(a){this._.setUTCDate(a)},setDay:function(a){this._.setUTCDay(a)},setFullYear:function(a){this._.setUTCFullYear(a)},setHours:function(a){this._.setUTCHours(a)},setMilliseconds:function(a){this._.setUTCMilliseconds(a)},setMinutes:function(a){this._.setUTCMinutes(a)},setMonth:function(a){this._.setUTCMonth(a)},setSeconds:function(a){this._.setUTCSeconds(a)}};var R=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?S:R,S.parse=function(a){return new Date(a)},S.toString=R.toString,d3.time.second=function(a){return new Date(~~(a/1e3)*1e3)},d3.time.second.utc=d3.time.second,d3.time.seconds=T(d3.time.second,function(a){a.setTime(a.getTime()+1e3)},function(a){return a.getSeconds()}),d3.time.seconds.utc=d3.time.seconds,d3.time.minute=function(a){return new Date(~~(a/6e4)*6e4)},d3.time.minute.utc=d3.time.minute,d3.time.minutes=T(d3.time.minute,U,function(a){return a.getMinutes()}),d3.time.minutes.utc=T(d3.time.minute,U,function(a){return a.getUTCMinutes()}),d3.time.hour=function(a){var b=a.getTimezoneOffset()/60;return new Date((~~(a/36e5-b)+b)*36e5)},d3.time.hour.utc=function(a){return new Date(~~(a/36e5)*36e5)},d3.time.hours=T(d3.time.hour,V,function(a){return a.getHours()}),d3.time.hours.utc=T(d3.time.hour.utc,V,function(a){return a.getUTCHours()}),d3.time.day=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},d3.time.day.utc=function(a){return new Date(~~(a/864e5)*864e5)},d3.time.days=T(d3.time.day,function(a){a.setDate(a.getDate()+1)},function(a){return a.getDate()-1}),d3.time.days.utc=T(d3.time.day.utc,function(a){a.setUTCDate(a.getUTCDate()+1)},function(a){return a.getUTCDate()-1}),d3.time.week=function(a){return(a=d3.time.day(a)).setDate(a.getDate()-a.getDay()),a},d3.time.week.utc=function(a){return(a=d3.time.day.utc(a)).setUTCDate(a.getUTCDate()-a.getUTCDay()),a},d3.time.weeks=T(d3.time.week,function(a){a.setDate(a.getDate()+7)},function(a){return~~((a-new Date(a.getFullYear(),0,1))/6048e5)}),d3.time.weeks.utc=T(d3.time.week.utc,function(a){a.setUTCDate(a.getUTCDate()+7)},function(a){return~~((a-Date.UTC(a.getUTCFullYear(),0,1))/6048e5)}),d3.time.month=function(a){return new Date(a.getFullYear(),a.getMonth(),1)},d3.time.month.utc=function(a){return new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),1))},d3.time.months=T(d3.time.month,function(a){a.setMonth(a.getMonth()+1)},function(a){return a.getMonth()}),d3.time.months.utc=T(d3.time.month.utc,function(a){a.setUTCMonth(a.getUTCMonth()+1)},function(a){return a.getUTCMonth()}),d3.time.year=function(a){return new Date(a.getFullYear(),0,1)},d3.time.year.utc=function(a){return new Date(Date.UTC(a.getUTCFullYear(),0,1))},d3.time.years=T(d3.time.year,function(a){a.setFullYear(a.getFullYear()+1)},function(a){return a.getFullYear()}),d3.time.years.utc=T(d3.time.year.utc,function(a){a.setUTCFullYear(a.getUTCFullYear()+1)},function(a){return a.getUTCFullYear()});var ba=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],bb=[[d3.time.seconds,1],[d3.time.seconds,5],[d3.time.seconds,15],[d3.time.seconds,30],[d3.time.minutes,1],[d3.time.minutes,5],[d3.time.minutes,15],[d3.time.minutes,30],[d3.time.hours,1],[d3.time.hours,3],[d3.time.hours,6],[d3.time.hours,12],[d3.time.days,1],[d3.time.days,2],[d3.time.weeks,1],[d3.time.months,1],[d3.time.months,3],[d3.time.years,1]],bc=[[d3.time.format("%Y"),function(a){return!0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return a.getDate()!=1}],[d3.time.format("%a %d"),function(a){return a.getDay()&&a.getDate()!=1}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],bd=d3.scale.linear(),be=Z(bc);bb.year=function(a,b){return bd.domain(a.map(_)).ticks(b).map($)},d3.time.scale=function(){return W(d3.scale.linear(),bb,be)};var bf=[[d3.time.seconds.utc,1],[d3.time.seconds.utc,5],[d3.time.seconds.utc,15],[d3.time.seconds.utc,30],[d3.time.minutes.utc,1],[d3.time.minutes.utc,5],[d3.time.minutes.utc,15],[d3.time.minutes.utc,30],[d3.time.hours.utc,1],[d3.time.hours.utc,3],[d3.time.hours.utc,6],[d3.time.hours.utc,12],[d3.time.days.utc,1],[d3.time.days.utc,2],[d3.time.weeks.utc,1],[d3.time.months.utc,1],[d3.time.months.utc,3],[d3.time.years.utc,1]],bg=[[d3.time.format.utc("%Y"),function(a){return!0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return a.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],bh=Z(bg);bf.year=function(a,b){return bd.domain(a.map(bj)).ticks(b).map(bi)},d3.time.scale.utc=function(){return W(d3.scale.linear(),bf,bh)}})();